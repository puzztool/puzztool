import{r as u,u as C,j as n,p as k,a6 as M,a7 as J,q as K,a2 as W,a8 as Q,a9 as X,s as S,B as Y,c as Z,aa as P,ab as ee,ac as ne,ad as se,ae as te,af as re,P as ae}from"./index-Dy_JOjBL.js";import{C as g}from"./Card-C2y709Ca.js";import{C as oe,R as F,a as T}from"./Row-DbDMvBcC.js";import{a as v,b as ie,u as ce,F as B}from"./FocusInput-s1n5Z_yq.js";import{h as le}from"./ElementChildren-BVY8K1JJ.js";import{T as de}from"./Table-BQHG9zg1.js";const H=M("h4");H.displayName="DivStyledAsH4";const $=u.forwardRef(({className:e,bsPrefix:s,as:a=H,...t},r)=>(s=C(s,"alert-heading"),n.jsx(a,{ref:r,className:k(e,s),...t})));$.displayName="AlertHeading";const R=u.forwardRef(({className:e,bsPrefix:s,as:a=J,...t},r)=>(s=C(s,"alert-link"),n.jsx(a,{ref:r,className:k(e,s),...t})));R.displayName="AlertLink";const E=u.forwardRef((e,s)=>{const{bsPrefix:a,show:t=!0,closeLabel:r="Close alert",closeVariant:i,className:c,children:l,variant:o="primary",onClose:h,dismissible:d,transition:m=W,...j}=K(e,{show:"onClose"}),f=C(a,"alert"),L=Q(y=>{h&&h(!1,y)}),x=m===!0?W:m,w=n.jsxs("div",{role:"alert",...x?void 0:j,ref:s,className:k(c,f,o&&`${f}-${o}`,d&&`${f}-dismissible`),children:[d&&n.jsx(X,{onClick:L,"aria-label":r,variant:i}),l]});return x?n.jsx(x,{unmountOnExit:!0,...j,ref:void 0,in:t,children:w}):t?w:null});E.displayName="Alert";const ue=Object.assign(E,{Link:R,Heading:$}),_=u.forwardRef(({id:e,bsPrefix:s,className:a,type:t="checkbox",isValid:r=!1,isInvalid:i=!1,as:c="input",...l},o)=>{const{controlId:h}=u.useContext(v);return s=C(s,"form-check-input"),n.jsx(c,{...l,ref:o,type:t,id:e||h,className:k(a,s,r&&"is-valid",i&&"is-invalid")})});_.displayName="FormCheckInput";const N=u.forwardRef(({bsPrefix:e,className:s,htmlFor:a,...t},r)=>{const{controlId:i}=u.useContext(v);return e=C(e,"form-check-label"),n.jsx("label",{...t,ref:r,htmlFor:a||i,className:k(s,e)})});N.displayName="FormCheckLabel";const O=u.forwardRef(({id:e,bsPrefix:s,bsSwitchPrefix:a,inline:t=!1,reverse:r=!1,disabled:i=!1,isValid:c=!1,isInvalid:l=!1,feedbackTooltip:o=!1,feedback:h,feedbackType:d,className:m,style:j,title:f="",type:L="checkbox",label:x,children:w,as:y="input",...G},z)=>{s=C(s,"form-check"),a=C(a,"form-switch");const{controlId:D}=u.useContext(v),V=u.useMemo(()=>({controlId:e||D}),[D,e]),U=!w&&x!=null&&x!==!1||le(w,N),q=n.jsx(_,{...G,type:L==="switch"?"checkbox":L,ref:z,isValid:c,isInvalid:l,disabled:i,as:y});return n.jsx(v.Provider,{value:V,children:n.jsx("div",{style:j,className:k(m,U&&s,t&&`${s}-inline`,r&&`${s}-reverse`,L==="switch"&&a),children:w||n.jsxs(n.Fragment,{children:[q,U&&n.jsx(N,{title:f,children:x}),h&&n.jsx(ie,{type:d,tooltip:o,children:h})]})})})});O.displayName="FormCheck";const b=Object.assign(O,{Input:_,Label:N}),he="_container_1vauu_1",ge="_highlightChar_1vauu_11",me="_unusedLettersSection_1vauu_15",fe="_unusedLetters_1vauu_15",p={container:he,highlightChar:ge,unusedLettersSection:me,unusedLetters:fe};function xe(e,s){return e&&s?S.WordSearchDirection.CardinalAndDiagonal:e?S.WordSearchDirection.Cardinal:s?S.WordSearchDirection.Diagonal:S.WordSearchDirection.None}function A(e){return e.split(/\r?\n/)}function Ce(e,s){const a=[];for(const t of e){const r=Array.from({length:t.length},()=>!1);a.push(r)}for(const t of s)for(const r of t.points)a[r.y][r.x]=!0;return a}function je(e,s){const a=[];for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++){const i=e[t][r];i!==" "&&!s[t][r]&&a.push(i)}return a.join("")}function we(e){return e?p.highlightChar:""}function ke(e){const s=e.gridInputText.trimEnd();if(!s)return null;const a=A(s),t=[];for(const d of a)t.push(d.split(""));const r=xe(e.useCardinals,e.useDiagonals),i=A(e.wordListInputText).filter(d=>d.length>0),c=new S.WordSearchSolver;c.setDirections(r),c.setCanBend(e.canBend),c.setGrid(t),c.setWords(i);const l=c.findWords(),o=Ce(t,l),h=je(t,o);return n.jsxs(n.Fragment,{children:[n.jsx(de,{className:p.container,borderless:!0,children:n.jsx("tbody",{children:t.map((d,m)=>n.jsx("tr",{children:d.map((j,f)=>n.jsx("td",{className:we(o[m][f]),children:j},`${m},${f}`))},m))})}),l.length>0&&n.jsxs("div",{className:p.unusedLettersSection,children:[n.jsx(Y,{onClick:()=>e.onToggleShowUnused(!e.showUnused),variant:"outline-secondary",children:e.showUnused?"Hide Unused Letters":"Show Unused Letters"}),e.showUnused&&n.jsx("div",{className:p.unusedLetters,children:h||"(none)"})]})]})}const Le="_container_k5p77_1",Se="_listInput_k5p77_15",pe="_gridInput_k5p77_34",I={container:Le,listInput:Se,gridInput:pe},ve=e=>({canBend:e.wordSearch.canBend,grid:e.wordSearch.grid,showUnused:e.wordSearch.showUnused,useCardinals:e.wordSearch.useCardinals,useDiagonals:e.wordSearch.useDiagonals,wordList:e.wordSearch.wordList}),Ne={setCanBend:re,setGrid:te,setShowUnused:se,setUseCardinals:ne,setUseDiagonals:ee,setWordList:P},ye=Z(ve,Ne);function Te(e){const s=ce();function a(o){e.setGrid(o.currentTarget.value)}function t(o){e.setWordList(o.currentTarget.value)}function r(o){e.setUseCardinals(o.currentTarget.checked)}function i(o){e.setUseDiagonals(o.currentTarget.checked)}function c(o){e.setCanBend(o.currentTarget.checked)}function l(){if(!e.useCardinals&&!e.useDiagonals)return n.jsx(ue,{variant:"warning",children:"No directions are selected. No results will be shown."})}return n.jsx("div",{className:I.container,children:n.jsxs(oe,{fluid:!0,children:[n.jsxs(F,{className:"g-0",children:[n.jsx(T,{md:4,children:n.jsxs(g,{className:I.listInput,children:[n.jsx(g.Header,{children:"Enter the list of words to find, one word per line"}),n.jsxs(g.Body,{children:[n.jsx(B,{as:"textarea",onChange:t,placeholder:"Word List To Find",value:e.wordList}),l(),n.jsx(b,{checked:e.useDiagonals,id:"WordSearchComponent-checkbox-diagonal",label:"Use diagonal directions",onChange:i,type:"checkbox"}),n.jsx(b,{checked:e.useCardinals,id:"WordSearchComponent-checkbox-cardinal",label:"Use cardinal directions",onChange:r,type:"checkbox"}),n.jsx(b,{checked:e.canBend,id:"WordSearchComponent-checkbox-bend",label:"Words can bend (may not be straight lines)",onChange:c,type:"checkbox"})]})]})}),n.jsx(T,{md:8,children:n.jsxs(g,{className:I.gridInput,children:[n.jsx(g.Header,{children:"Enter the word search grid, one row of letters per line"}),n.jsx(g.Body,{children:n.jsx(B,{as:"textarea",onChange:a,placeholder:"Grid Text",ref:s,spellCheck:!1,value:e.grid})})]})})]}),n.jsx(F,{className:"g-0",children:n.jsx(T,{md:12,children:n.jsxs(g,{children:[n.jsx(g.Header,{children:"Output"}),n.jsx(g.Body,{children:n.jsx(ke,{canBend:e.canBend,gridInputText:e.grid,onToggleShowUnused:o=>e.setShowUnused(o),showUnused:e.showUnused,useCardinals:e.useCardinals,useDiagonals:e.useDiagonals,wordListInputText:e.wordList})})]})})})]})})}const be=ye(Te);function Be(){return n.jsx(ae,{title:"Word Search",children:n.jsx(be,{})})}export{Be as default};
