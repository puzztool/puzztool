import{r as u,u as x,j as n,p as w,a6 as M,a7 as J,q as K,a2 as W,a8 as Q,a9 as X,s as p,B as Y,c as Z,aa as P,ab as ee,ac as ne,ad as se,ae as te,af as ae,P as re}from"./index-R_wCElQH.js";import{C as h}from"./Card-BAe-BFEA.js";import{C as oe,R as F,a as T}from"./Row-Bwhz3Cgo.js";import{a as N,b as ie,u as ce,F as B}from"./FocusInput-CYIL_iyW.js";import{h as le}from"./ElementChildren-2ioV3V6P.js";import{T as de}from"./Table-uW4GrRv7.js";const H=M("h4");H.displayName="DivStyledAsH4";const $=u.forwardRef(({className:e,bsPrefix:s,as:r=H,...t},a)=>(s=x(s,"alert-heading"),n.jsx(r,{ref:a,className:w(e,s),...t})));$.displayName="AlertHeading";const R=u.forwardRef(({className:e,bsPrefix:s,as:r=J,...t},a)=>(s=x(s,"alert-link"),n.jsx(r,{ref:a,className:w(e,s),...t})));R.displayName="AlertLink";const E=u.forwardRef((e,s)=>{const{bsPrefix:r,show:t=!0,closeLabel:a="Close alert",closeVariant:i,className:l,children:d,variant:o="primary",onClose:c,dismissible:g,transition:C=W,...m}=K(e,{show:"onClose"}),k=x(r,"alert"),L=Q(v=>{c&&c(!1,v)}),f=C===!0?W:C,j=n.jsxs("div",{role:"alert",...f?void 0:m,ref:s,className:w(l,k,o&&`${k}-${o}`,g&&`${k}-dismissible`),children:[g&&n.jsx(X,{onClick:L,"aria-label":a,variant:i}),d]});return f?n.jsx(f,{unmountOnExit:!0,...m,ref:void 0,in:t,children:j}):t?j:null});E.displayName="Alert";const ue=Object.assign(E,{Link:R,Heading:$}),_=u.forwardRef(({id:e,bsPrefix:s,className:r,type:t="checkbox",isValid:a=!1,isInvalid:i=!1,as:l="input",...d},o)=>{const{controlId:c}=u.useContext(N);return s=x(s,"form-check-input"),n.jsx(l,{...d,ref:o,type:t,id:e||c,className:w(r,s,a&&"is-valid",i&&"is-invalid")})});_.displayName="FormCheckInput";const y=u.forwardRef(({bsPrefix:e,className:s,htmlFor:r,...t},a)=>{const{controlId:i}=u.useContext(N);return e=x(e,"form-check-label"),n.jsx("label",{...t,ref:a,htmlFor:r||i,className:w(s,e)})});y.displayName="FormCheckLabel";const O=u.forwardRef(({id:e,bsPrefix:s,bsSwitchPrefix:r,inline:t=!1,reverse:a=!1,disabled:i=!1,isValid:l=!1,isInvalid:d=!1,feedbackTooltip:o=!1,feedback:c,feedbackType:g,className:C,style:m,title:k="",type:L="checkbox",label:f,children:j,as:v="input",...G},z)=>{s=x(s,"form-check"),r=x(r,"form-switch");const{controlId:U}=u.useContext(N),V=u.useMemo(()=>({controlId:e||U}),[U,e]),D=!j&&f!=null&&f!==!1||le(j,y),q=n.jsx(_,{...G,type:L==="switch"?"checkbox":L,ref:z,isValid:l,isInvalid:d,disabled:i,as:v});return n.jsx(N.Provider,{value:V,children:n.jsx("div",{style:m,className:w(C,D&&s,t&&`${s}-inline`,a&&`${s}-reverse`,L==="switch"&&r),children:j||n.jsxs(n.Fragment,{children:[q,D&&n.jsx(y,{title:k,children:f}),c&&n.jsx(ie,{type:g,tooltip:o,children:c})]})})})});O.displayName="FormCheck";const b=Object.assign(O,{Input:_,Label:y}),he="_container_1vauu_1",ge="_highlightChar_1vauu_11",me="_unusedLettersSection_1vauu_15",fe="_unusedLetters_1vauu_15",S={container:he,highlightChar:ge,unusedLettersSection:me,unusedLetters:fe};function xe(e,s){return e&&s?p.WordSearchDirection.CardinalAndDiagonal:e?p.WordSearchDirection.Cardinal:s?p.WordSearchDirection.Diagonal:p.WordSearchDirection.None}function A(e){return e.split(/\r?\n/)}function Ce(e,s){const r=[];for(const t of e){const a=Array.from({length:t.length},()=>!1);r.push(a)}for(const t of s)for(const a of t.points)r[a.y][a.x]=!0;return r}function je(e,s){const r=[];for(let t=0;t<e.length;t++)for(let a=0;a<e[t].length;a++){const i=e[t][a];i!==" "&&!s[t][a]&&r.push(i)}return r.join("")}function we(e){return e?S.highlightChar:""}function ke(e){const s=e.gridInputText.trimEnd();if(!s)return null;const r=A(s),t=[];for(const c of r)t.push(c.split(""));const a=xe(e.useCardinals,e.useDiagonals),i=A(e.wordListInputText).filter(c=>c.length>0),l=p.findWords({grid:t,words:i,directions:a,canBend:e.canBend}),d=Ce(t,l),o=je(t,d);return n.jsxs(n.Fragment,{children:[n.jsx(de,{className:S.container,borderless:!0,children:n.jsx("tbody",{children:t.map((c,g)=>n.jsx("tr",{children:c.map((C,m)=>n.jsx("td",{className:we(d[g][m]),children:C},`${g},${m}`))},g))})}),l.length>0&&n.jsxs("div",{className:S.unusedLettersSection,children:[n.jsx(Y,{onClick:()=>e.onToggleShowUnused(!e.showUnused),variant:"outline-secondary",children:e.showUnused?"Hide Unused Letters":"Show Unused Letters"}),e.showUnused&&n.jsx("div",{className:S.unusedLetters,children:o||"(none)"})]})]})}const Le="_container_k5p77_1",pe="_listInput_k5p77_15",Se="_gridInput_k5p77_34",I={container:Le,listInput:pe,gridInput:Se},Ne=e=>({canBend:e.wordSearch.canBend,grid:e.wordSearch.grid,showUnused:e.wordSearch.showUnused,useCardinals:e.wordSearch.useCardinals,useDiagonals:e.wordSearch.useDiagonals,wordList:e.wordSearch.wordList}),ye={setCanBend:ae,setGrid:te,setShowUnused:se,setUseCardinals:ne,setUseDiagonals:ee,setWordList:P},ve=Z(Ne,ye);function Te(e){const s=ce();function r(o){e.setGrid(o.currentTarget.value)}function t(o){e.setWordList(o.currentTarget.value)}function a(o){e.setUseCardinals(o.currentTarget.checked)}function i(o){e.setUseDiagonals(o.currentTarget.checked)}function l(o){e.setCanBend(o.currentTarget.checked)}function d(){if(!e.useCardinals&&!e.useDiagonals)return n.jsx(ue,{variant:"warning",children:"No directions are selected. No results will be shown."})}return n.jsx("div",{className:I.container,children:n.jsxs(oe,{fluid:!0,children:[n.jsxs(F,{className:"g-0",children:[n.jsx(T,{md:4,children:n.jsxs(h,{className:I.listInput,children:[n.jsx(h.Header,{children:"Enter the list of words to find, one word per line"}),n.jsxs(h.Body,{children:[n.jsx(B,{as:"textarea",onChange:t,placeholder:"Word List To Find",value:e.wordList}),d(),n.jsx(b,{checked:e.useDiagonals,id:"WordSearchComponent-checkbox-diagonal",label:"Use diagonal directions",onChange:i,type:"checkbox"}),n.jsx(b,{checked:e.useCardinals,id:"WordSearchComponent-checkbox-cardinal",label:"Use cardinal directions",onChange:a,type:"checkbox"}),n.jsx(b,{checked:e.canBend,id:"WordSearchComponent-checkbox-bend",label:"Words can bend (may not be straight lines)",onChange:l,type:"checkbox"})]})]})}),n.jsx(T,{md:8,children:n.jsxs(h,{className:I.gridInput,children:[n.jsx(h.Header,{children:"Enter the word search grid, one row of letters per line"}),n.jsx(h.Body,{children:n.jsx(B,{as:"textarea",onChange:r,placeholder:"Grid Text",ref:s,spellCheck:!1,value:e.grid})})]})})]}),n.jsx(F,{className:"g-0",children:n.jsx(T,{md:12,children:n.jsxs(h,{children:[n.jsx(h.Header,{children:"Output"}),n.jsx(h.Body,{children:n.jsx(ke,{canBend:e.canBend,gridInputText:e.grid,onToggleShowUnused:o=>e.setShowUnused(o),showUnused:e.showUnused,useCardinals:e.useCardinals,useDiagonals:e.useDiagonals,wordListInputText:e.wordList})})]})})})]})})}const be=ve(Te);function Be(){return n.jsx(re,{title:"Word Search",children:n.jsx(be,{})})}export{Be as default};
