import{p as b,j as e,s as r,c as w,r as D,B as x,w as _,x as v,y as L,z as S,A as T,P as R,D as E}from"./index-B77-vaBY.js";import{T as P,a as k}from"./Tabs-Cr-66VmG.js";import{B as $,a as f}from"./ButtonToolbar-D7inilO5.js";import{C as o}from"./Card-BWw8bxzc.js";import{C as N,R as g,a as m}from"./Row-BMeDX3ZZ.js";import{R as M}from"./index-BMdtY3_Q.js";import"./ElementChildren-DMv_9CJx.js";const K="_container_1uhia_1",U="_selected_1uhia_13",C={container:K,selected:U};function z(t){function n(){const i=t.onClick;i&&i(t.mask)}const c=b(C.container,{[C.selected]:t.character.get(t.mask)});return e.jsx("button",{className:c,onClick:n,children:e.jsxs("svg",{viewBox:"0 0 60 60",children:[e.jsx("circle",{cx:"30",cy:"30",r:"12"}),"Sorry, your browser does not support inline SVG."]})})}const G="_container_t7vw3_1",H={container:G};function I(t){function n(i){const l=t.onClick;l&&l(i)}function c(i){return e.jsx(z,{character:t.character,mask:i,onClick:n})}return e.jsxs("div",{className:H.container,children:[c(r.BrailleDot.UpperLeft),c(r.BrailleDot.UpperRight),c(r.BrailleDot.MiddleLeft),c(r.BrailleDot.MiddleRight),c(r.BrailleDot.LowerLeft),c(r.BrailleDot.LowerRight)]})}const V="_container_nmko6_1",F="_input_nmko6_22",O="_view_nmko6_26",A="_output_nmko6_31",h={container:V,input:F,view:O,output:A},W=t=>({encoding:t.encoding.braille.encoding,stream:t.encoding.braille.stream}),q={append:T,backspace:S,clear:L,setEncoding:v,space:_},J=w(W,q);function Q(t){D.useEffect(()=>{function s(a){var p;if(a.defaultPrevented)return;let u=!1;if(a.key==="Backspace"||a.key==="Delete"||a.keyCode===8||a.keyCode===46){const y=Math.max(1,((p=window.getSelection())==null?void 0:p.toString().length)??0);for(let B=0;B<y;B++)t.backspace();u=!0}u&&a.preventDefault()}function d(a){if(a.defaultPrevented)return;let u=!1;a.keyCode===13?(l(),u=!0):a.charCode>=49&&a.charCode<=54&&c(Math.pow(2,a.charCode-49)),u&&a.preventDefault()}return document.addEventListener("keydown",s),document.addEventListener("keypress",d),()=>{document.removeEventListener("keydown",s),document.removeEventListener("keypress",d)}});function n(){t.backspace()}function c(s){const d=new r.BrailleCharacter(t.encoding);d.toggle(s),t.setEncoding(d.encoding)}function i(){t.clear()}function l(){const s=new r.BrailleCharacter(t.encoding);s.valid()?t.append(s.valueOf()):t.space()}const j=new r.BrailleCharacter(t.encoding);return e.jsxs("div",{className:h.container,children:[e.jsxs(o,{className:h.input,children:[e.jsx(o.Header,{children:"Input"}),e.jsx(o.Body,{children:e.jsxs(N,{fluid:!0,children:[e.jsxs(g,{children:[e.jsx(m,{xs:"auto",sm:"auto",md:"auto",children:e.jsx(I,{character:j,onClick:c})}),e.jsx(m,{className:h.view,children:j.toString()||"?"})]}),e.jsx(g,{children:e.jsx(m,{children:e.jsxs($,{children:[e.jsx(f,{children:e.jsx(x,{onClick:n,children:"âŒ«"})}),e.jsx(f,{children:e.jsx(x,{onClick:l,children:"Next"})}),e.jsx(f,{children:e.jsx(x,{onClick:i,variant:"danger",children:"Clear"})})]})})})]})})]}),e.jsxs(o,{children:[e.jsx(o.Header,{children:"Output"}),e.jsx(o.Body,{children:e.jsxs("pre",{className:h.output,children:[new r.BrailleStream(t.stream).toString(),e.jsx("span",{className:"blinking-cursor",children:"|"})]})})]})]})}const X=J(Q);function Y(t){function n(c,i,l){return e.jsx("use",{transform:`translate(${i}, ${l})`,xlinkHref:t.character.get(c)?"#FullDot":"#EmptyDot"})}return e.jsxs("svg",{width:t.width,viewBox:"0 0 34 52",children:[e.jsxs("defs",{children:[e.jsx("g",{id:"FullDot",children:e.jsx("circle",{r:"6",fill:"black",cx:"0",cy:"0"})}),e.jsx("g",{id:"EmptyDot",children:e.jsx("circle",{r:"6",fill:"transparent",strokeWidth:"1",stroke:"black",cx:"0",cy:"0"})})]}),n(r.BrailleDot.UpperLeft,8,8),n(r.BrailleDot.UpperRight,26,8),n(r.BrailleDot.MiddleLeft,8,26),n(r.BrailleDot.MiddleRight,26,26),n(r.BrailleDot.LowerLeft,8,44),n(r.BrailleDot.LowerRight,26,44),"Sorry, your browser does not support inline SVG."]})}function Z(){const t=new r.BrailleCharacter().getPotentialMatches();return e.jsx(M,{children:t.map(n=>e.jsxs("div",{children:[e.jsx(Y,{width:40,character:new r.BrailleCharacter(n.encoding,n.category)}),e.jsx("br",{}),n.display]},`${n.encoding}_${n.display}`))})}const ee=t=>({selectedTab:t.encoding.braille.selectedTab}),te={selectTab:E},ne=w(ee,te);function re(t){return e.jsx(R,{title:"Braille",children:e.jsxs(P,{activeKey:t.selectedTab,id:"Braille-tabs",onSelect:t.selectTab,children:[e.jsx(k,{eventKey:"1",title:"Value",children:e.jsx(X,{})}),e.jsx(k,{eventKey:"2",title:"Reference",children:e.jsx(Z,{})})]})})}const ue=ne(re);export{ue as default};
