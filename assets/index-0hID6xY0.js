import{j as e,c as C,r as V,B as h,s as t,F as L,G as $,H as K,P as G,I as W}from"./index-R_wCElQH.js";import{T as z,a as D}from"./Tabs-CeDRTD6D.js";import{B as E,a as m}from"./ButtonToolbar-Ps6ZC3MJ.js";import{C as n}from"./Card-BAe-BFEA.js";import{T as F}from"./Table-uW4GrRv7.js";import"./ElementChildren-2ioV3V6P.js";function R(s){return e.jsxs("svg",{className:s.className,viewBox:"0 0 30 30",children:[e.jsx("circle",{cx:"15",cy:"15",r:"15"}),"Sorry, your browser does not support inline SVG."]})}function T(s){return e.jsxs("svg",{className:s.className,viewBox:"0 0 90 30",children:[e.jsx("rect",{width:"90",height:"30"}),"Sorry, your browser does not support inline SVG."]})}function X(s){return e.jsx(e.Fragment,{children:Array.from(s.morseString).map((i,p)=>e.jsx("span",{className:s.className,children:i==="."?e.jsx(R,{}):e.jsx(T,{})},p))})}const q="_container_1ji83_1",J="_inputCommands_1ji83_8",Q="_dot_button_1ji83_14",U="_dash_button_1ji83_15",Y="_partialMatches_1ji83_22",Z="_output_1ji83_29",ee="_morseOutput_1ji83_33",a={container:q,inputCommands:J,dot_button:Q,dash_button:U,partialMatches:Y,output:Z,morseOutput:ee},se=s=>({stream:s.encoding.morse.stream}),te={append:K,backspace:$,clear:L},ne=C(se,te);function re(s){V.useEffect(()=>{function o(r){var u;if(r.defaultPrevented)return;let c=!1;if(r.key==="Backspace"||r.key==="Delete"||r.keyCode===8||r.keyCode===46){const x=Math.max(1,((u=window.getSelection())==null?void 0:u.toString().length)??0);for(let j=0;j<x;j++)s.backspace();c=!0}c&&r.preventDefault()}function d(r){if(r.defaultPrevented)return;let c=!0;if(r.key)switch(r.key){case"-":case"j":_();break;case".":case"k":f();break;case"Enter":case" ":case"l":k();break;case";":s.backspace();break;default:c=!1}else switch(r.keyCode){case 45:case 106:_();break;case 46:case 107:f();break;case 13:case 32:case 108:k();break;case 59:s.backspace();break;default:c=!1}c&&r.preventDefault()}return document.addEventListener("keydown",o),document.addEventListener("keypress",d),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keypress",d)}});function i(){return s.stream.replace(/\./g,"·").replace(/-/g,"－")}function p(){return t.decodeMorse(s.stream)}function S(){return t.invertMorse(s.stream)}function v(){return t.reverseMorse(s.stream)}function N(){return t.invertAndReverseMorse(s.stream)}function O(){s.backspace()}function I(){s.clear()}function f(){s.append(t.MORSE_DOT)}function _(){s.append(t.MORSE_DASH)}function w(){const o=Math.max(s.stream.lastIndexOf(t.MORSE_CHARACTER_DIVIDER),s.stream.lastIndexOf(t.MORSE_WORD_DIVIDER)),d=o>=0?s.stream.slice(o+1):s.stream;if(!d)return null;const r=t.parseMorseString(d),c=t.lookupMorseEncoding(r),u=c.exact,x=c.partial;if(x.length===0)return null;const j=new Set(u.map(l=>l.display)),M=x.filter(l=>!j.has(l.display)),g=6,B=M.slice(0,g),P=M.length>g,A=d.replace(/\./g,"·").replace(/-/g,"－"),H=[...u.map(l=>l.display),...B.map(l=>l.display+"?"),...P?["…"]:[]];return`${A} → ${H.join("  ")}`}function k(){if(s.stream.length>0){const o=s.stream.slice(-1);o===t.MORSE_CHARACTER_DIVIDER?(s.backspace(),s.append(t.MORSE_WORD_DIVIDER)):o!==t.MORSE_WORD_DIVIDER&&s.append(t.MORSE_CHARACTER_DIVIDER)}}const y=w();return e.jsxs("div",{className:a.container,children:[e.jsxs(n,{className:a.morseOutput,children:[e.jsx(n.Header,{children:"Input"}),e.jsxs(n.Body,{children:[e.jsxs("pre",{children:[i(),e.jsx("span",{className:"blinking-cursor",children:"|"})]}),y!==null&&e.jsx("div",{className:a.partialMatches,children:y})]})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Plaintext"}),e.jsx(n.Body,{children:e.jsx("pre",{children:p()||" "})})]}),e.jsxs(E,{className:a.inputCommands,children:[e.jsx(m,{children:e.jsx(h,{onClick:f,variant:"primary",children:e.jsx(R,{className:a.dot_button})})}),e.jsx(m,{children:e.jsx(h,{onClick:_,variant:"primary",children:e.jsx(T,{className:a.dash_button})})})]}),e.jsxs(E,{className:a.commands,children:[e.jsx(m,{children:e.jsx(h,{onClick:O,children:"⌫"})}),e.jsx(m,{children:e.jsx(h,{onClick:k,children:"Next"})}),e.jsx(m,{children:e.jsx(h,{onClick:I,variant:"danger",children:"Clear"})})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Swap Dots/Dashes"}),e.jsx(n.Body,{children:e.jsx("pre",{children:S()||" "})})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Right to Left"}),e.jsx(n.Body,{children:e.jsx("pre",{children:v()||" "})})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Right to Left + Swap Dots/Dashes"}),e.jsx(n.Body,{children:e.jsx("pre",{children:N()||" "})})]})]})}const ae=ne(re),ce="_container_b2igg_1",oe="_morse_picture_b2igg_14",b={container:ce,morse_picture:oe};function ie(){const s=t.lookupMorseEncoding(t.MorseEncoding.None).partial;return e.jsx("div",{className:b.container,children:e.jsxs(F,{striped:!0,responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Character"}),e.jsx("th",{children:"Morse"})]})}),e.jsx("tbody",{children:s.map(i=>e.jsxs("tr",{children:[e.jsx("td",{children:i.display}),e.jsx("td",{children:e.jsx("div",{className:b.morseView,children:e.jsx(X,{className:b.morse_picture,morseString:t.morseEncodingToString(i.encoding)})})})]},i.display))})]})})}const le=s=>({selectedTab:s.encoding.morse.selectedTab}),de={selectTab:W},ue=C(le,de);function he(s){return e.jsx(G,{title:"Morse Code",children:e.jsxs(z,{activeKey:s.selectedTab,id:"Morse-tabs",onSelect:s.selectTab,children:[e.jsx(D,{eventKey:"1",title:"Value",children:e.jsx(ae,{})}),e.jsx(D,{eventKey:"2",title:"Reference",children:e.jsx(ie,{})})]})})}const ke=ue(he);export{ke as default};
