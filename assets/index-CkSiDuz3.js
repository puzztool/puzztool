import{j as e,c as C,r as H,B as m,s as r,F as V,G as L,H as $,P as K,I as G}from"./index-B77-vaBY.js";import{T as W,a as S}from"./Tabs-Cr-66VmG.js";import{B as D,a as x}from"./ButtonToolbar-D7inilO5.js";import{C as n}from"./Card-BWw8bxzc.js";import{T as z}from"./Table-aLkh10LP.js";import"./ElementChildren-DMv_9CJx.js";function y(t){return e.jsxs("svg",{className:t.className,viewBox:"0 0 30 30",children:[e.jsx("circle",{cx:"15",cy:"15",r:"15"}),"Sorry, your browser does not support inline SVG."]})}function T(t){return e.jsxs("svg",{className:t.className,viewBox:"0 0 90 30",children:[e.jsx("rect",{width:"90",height:"30"}),"Sorry, your browser does not support inline SVG."]})}function F(t){return e.jsx(e.Fragment,{children:Array.from(t.morseString).map((i,j)=>e.jsx("span",{className:t.className,children:i==="."?e.jsx(y,{}):e.jsx(T,{})},j))})}const X="_container_1ji83_1",q="_inputCommands_1ji83_8",J="_dot_button_1ji83_14",Q="_dash_button_1ji83_15",U="_partialMatches_1ji83_22",Y="_output_1ji83_29",Z="_morseOutput_1ji83_33",a={container:X,inputCommands:q,dot_button:J,dash_button:Q,partialMatches:U,output:Y,morseOutput:Z},ee=t=>({stream:t.encoding.morse.stream}),te={append:$,backspace:L,clear:V},se=C(ee,te);function ne(t){H.useEffect(()=>{function o(s){var u;if(s.defaultPrevented)return;let c=!1;if(s.key==="Backspace"||s.key==="Delete"||s.keyCode===8||s.keyCode===46){const _=Math.max(1,((u=window.getSelection())==null?void 0:u.toString().length)??0);for(let h=0;h<_;h++)t.backspace();c=!0}c&&s.preventDefault()}function d(s){if(s.defaultPrevented)return;let c=!0;if(s.key)switch(s.key){case"-":case"j":f();break;case".":case"k":p();break;case"Enter":case" ":case"l":g();break;case";":t.backspace();break;default:c=!1}else switch(s.keyCode){case 45:case 106:f();break;case 46:case 107:p();break;case 13:case 32:case 108:g();break;case 59:t.backspace();break;default:c=!1}c&&s.preventDefault()}return document.addEventListener("keydown",o),document.addEventListener("keypress",d),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keypress",d)}});function i(){return t.stream.replace(/\./g,"·").replace(/-/g,"－")}function j(){return new r.MorseString(t.stream).toString()}function v(){return new r.MorseString(t.stream).invertDotsAndDashes().toString()}function N(){return new r.MorseString(t.stream).reverse().toString()}function w(){return new r.MorseString(t.stream).invertDotsAndDashes().reverse().toString()}function E(){t.backspace()}function R(){t.clear()}function p(){t.append(r.MorseCharacter.DOT)}function f(){t.append(r.MorseCharacter.DASH)}function I(){const o=Math.max(t.stream.lastIndexOf(r.MorseString.CHARACTER_DIVIDER),t.stream.lastIndexOf(r.MorseString.WORD_DIVIDER)),d=o>=0?t.stream.slice(o+1):t.stream;if(!d)return null;const s=new r.MorseCharacter(d),c=s.getExactMatches(),u=s.getPotentialMatches();if(u.length===0)return null;const _=new Set(c.map(l=>l.toString())),h=u.filter(l=>!_.has(l.toString())),k=6,P=h.slice(0,k),B=h.length>k,A=d.replace(/\./g,"·").replace(/-/g,"－"),O=[...c.map(l=>l.toString()),...P.map(l=>l.toString()+"?"),...B?["…"]:[]];return`${A} → ${O.join("  ")}`}function g(){if(t.stream.length>0){const o=t.stream.slice(-1);o===r.MorseString.CHARACTER_DIVIDER?(t.backspace(),t.append(r.MorseString.WORD_DIVIDER)):o!==r.MorseString.WORD_DIVIDER&&t.append(r.MorseString.CHARACTER_DIVIDER)}}const b=I();return e.jsxs("div",{className:a.container,children:[e.jsxs(n,{className:a.morseOutput,children:[e.jsx(n.Header,{children:"Input"}),e.jsxs(n.Body,{children:[e.jsxs("pre",{children:[i(),e.jsx("span",{className:"blinking-cursor",children:"|"})]}),b!==null&&e.jsx("div",{className:a.partialMatches,children:b})]})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Plaintext"}),e.jsx(n.Body,{children:e.jsx("pre",{children:j()||" "})})]}),e.jsxs(D,{className:a.inputCommands,children:[e.jsx(x,{children:e.jsx(m,{onClick:p,variant:"primary",children:e.jsx(y,{className:a.dot_button})})}),e.jsx(x,{children:e.jsx(m,{onClick:f,variant:"primary",children:e.jsx(T,{className:a.dash_button})})})]}),e.jsxs(D,{className:a.commands,children:[e.jsx(x,{children:e.jsx(m,{onClick:E,children:"⌫"})}),e.jsx(x,{children:e.jsx(m,{onClick:g,children:"Next"})}),e.jsx(x,{children:e.jsx(m,{onClick:R,variant:"danger",children:"Clear"})})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Swap Dots/Dashes"}),e.jsx(n.Body,{children:e.jsx("pre",{children:v()||" "})})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Right to Left"}),e.jsx(n.Body,{children:e.jsx("pre",{children:N()||" "})})]}),e.jsxs(n,{className:a.output,children:[e.jsx(n.Header,{children:"Right to Left + Swap Dots/Dashes"}),e.jsx(n.Body,{children:e.jsx("pre",{children:w()||" "})})]})]})}const re=se(ne),ae="_container_b2igg_1",ce="_morse_picture_b2igg_14",M={container:ae,morse_picture:ce};function oe(){const t=new r.MorseCharacter().getPotentialMatches();return e.jsx("div",{className:M.container,children:e.jsxs(z,{striped:!0,responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Character"}),e.jsx("th",{children:"Morse"})]})}),e.jsx("tbody",{children:t.map(i=>e.jsxs("tr",{children:[e.jsx("td",{children:i.display}),e.jsx("td",{children:e.jsx("div",{className:M.morseView,children:e.jsx(F,{className:M.morse_picture,morseString:r.MorseCharacter.toMorseString(i.encoding)})})})]},i.display))})]})})}const ie=t=>({selectedTab:t.encoding.morse.selectedTab}),le={selectTab:G},de=C(ie,le);function ue(t){return e.jsx(K,{title:"Morse Code",children:e.jsxs(W,{activeKey:t.selectedTab,id:"Morse-tabs",onSelect:t.selectTab,children:[e.jsx(S,{eventKey:"1",title:"Value",children:e.jsx(re,{})}),e.jsx(S,{eventKey:"2",title:"Reference",children:e.jsx(oe,{})})]})})}const ge=de(ue);export{ge as default};
