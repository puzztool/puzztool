{"version":3,"sources":["../node_modules/compare-versions/index.js","Data/LocalStorage.ts","../node_modules/react-bootstrap/esm/CardDeck.js","version.ts","Images/puzztool_banner_dark.svg","Features/Settings/index.tsx"],"names":["define","semver","indexOrEnd","str","q","indexOf","length","split","v","c","replace","patchIndex","arr","substring","push","tryParse","isNaN","Number","validate","version","TypeError","test","Error","compareVersions","v1","v2","forEach","s1","s2","i","Math","max","n1","parseInt","n2","sp1","sp2","p1","map","p2","undefined","allowedOperators","operatorResMap","validateOperator","op","join","compare","operator","res","isSupported","createWithBsPrefix","VERSION_STORAGE_KEY","getKey","key","clearOnVersionMismatch","value","prev","current","didVersionChange","isLocalStorageSupported","window","localStorage","getItem","getLocalStorageItem","clearLocalStorage","setItem","storage","x","removeItem","e","DOMException","code","name","clear","Settings","PuzzToolPage","title","className","CardDeck","Card","Header","Body","Button","onClick","variant","src","PuzztoolBannerDark","alt","href","rel","target"],"mappings":"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","file":"static/js/12.084cc86d.chunk.js","sourcesContent":["/* global define */\n(function (root, factory) {\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.compareVersions = factory();\n  }\n}(this, function () {\n\n  var semver = /^v?(?:\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+))?(?:-[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\n\n  function indexOrEnd(str, q) {\n    return str.indexOf(q) === -1 ? str.length : str.indexOf(q);\n  }\n\n  function split(v) {\n    var c = v.replace(/^v/, '').replace(/\\+.*$/, '');\n    var patchIndex = indexOrEnd(c, '-');\n    var arr = c.substring(0, patchIndex).split('.');\n    arr.push(c.substring(patchIndex + 1));\n    return arr;\n  }\n\n  function tryParse(v) {\n    return isNaN(Number(v)) ? v : Number(v);\n  }\n\n  function validate(version) {\n    if (typeof version !== 'string') {\n      throw new TypeError('Invalid argument expected string');\n    }\n    if (!semver.test(version)) {\n      throw new Error('Invalid argument not valid semver (\\''+version+'\\' received)');\n    }\n  }\n\n  function compareVersions(v1, v2) {\n    [v1, v2].forEach(validate);\n\n    var s1 = split(v1);\n    var s2 = split(v2);\n\n    for (var i = 0; i < Math.max(s1.length - 1, s2.length - 1); i++) {\n      var n1 = parseInt(s1[i] || 0, 10);\n      var n2 = parseInt(s2[i] || 0, 10);\n\n      if (n1 > n2) return 1;\n      if (n2 > n1) return -1;\n    }\n\n    var sp1 = s1[s1.length - 1];\n    var sp2 = s2[s2.length - 1];\n\n    if (sp1 && sp2) {\n      var p1 = sp1.split('.').map(tryParse);\n      var p2 = sp2.split('.').map(tryParse);\n\n      for (i = 0; i < Math.max(p1.length, p2.length); i++) {\n        if (p1[i] === undefined || typeof p2[i] === 'string' && typeof p1[i] === 'number') return -1;\n        if (p2[i] === undefined || typeof p1[i] === 'string' && typeof p2[i] === 'number') return 1;\n\n        if (p1[i] > p2[i]) return 1;\n        if (p2[i] > p1[i]) return -1;\n      }\n    } else if (sp1 || sp2) {\n      return sp1 ? -1 : 1;\n    }\n\n    return 0;\n  };\n\n  var allowedOperators = [\n    '>',\n    '>=',\n    '=',\n    '<',\n    '<='\n  ];\n\n  var operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1]\n  };\n\n  function validateOperator(op) {\n    if (typeof op !== 'string') {\n      throw new TypeError('Invalid operator type, expected string but got ' + typeof op);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n      throw new TypeError('Invalid operator, expected one of ' + allowedOperators.join('|'));\n    }\n  }\n\n  compareVersions.validate = function(version) {\n    return typeof version === 'string' && semver.test(version);\n  }\n\n  compareVersions.compare = function (v1, v2, operator) {\n    // Validate operator\n    validateOperator(operator);\n\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    var res = compareVersions(v1, v2);\n    return operatorResMap[operator].indexOf(res) > -1;\n  }\n\n  return compareVersions;\n}));\n","import compareVersions from 'compare-versions';\nimport { version } from '../version';\n\nconst VERSION_STORAGE_KEY = 'appVersion';\nconst STORAGE_KEY_PREFIX = 'puzztool';\nlet isSupported: boolean;\n\nfunction getKey(key: string) {\n  return `${STORAGE_KEY_PREFIX}_${key}`;\n}\n\nfunction didVersionChange(prev: string | null, current: string) {\n  try {\n    if (prev) {\n      return compareVersions(current, prev) !== 0;\n    }\n  } catch {\n    // Something went wrong with parsing.\n  }\n\n  // If there's no existing version number or we had an exception while\n  // comparing it, just return `true` to play it safe.\n  return true;\n}\n\nfunction clearOnVersionMismatch() {\n  const prevVersion = getLocalStorageItem(VERSION_STORAGE_KEY);\n  if (didVersionChange(prevVersion, version)) {\n    // If the current localstorage was created with another version of\n    // PuzzTool, clear the local storage to get rid of any obsolete or\n    // incompatible artifacts.\n    clearLocalStorage();\n\n    // Store the current version\n    setLocalStorageItem(VERSION_STORAGE_KEY, version);\n  }\n}\n\nfunction isLocalStorageSupported() {\n  if (isSupported === undefined) {\n    const storage = window.localStorage;\n    const x = '__storage_test__';\n\n    try {\n      storage.setItem(x, x);\n      storage.removeItem(x);\n      isSupported = true;\n    } catch (e) {\n      isSupported = e instanceof DOMException && (\n        // everything except Firefox\n        e.code === 22 ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === 'QuotaExceededError' ||\n        // Firefox\n        e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n        // acknowledge QuotaExceededError only if there's something already stored\n        storage.length !== 0;\n    }\n\n    if (isSupported) {\n      clearOnVersionMismatch();\n    }\n  }\n\n  return isSupported;\n}\n\nfunction getLocalStorageItem(key: string) {\n  if (isLocalStorageSupported()) {\n    return window.localStorage.getItem(getKey(key));\n  }\n\n  return null;\n}\n\nfunction setLocalStorageItem(key: string, value: string) {\n  if (isLocalStorageSupported()) {\n    window.localStorage.setItem(getKey(key), value);\n  }\n}\n\nexport function clearLocalStorage() {\n  if (isLocalStorageSupported()) {\n    window.localStorage.clear();\n  }\n}\n","import createWithBsPrefix from './createWithBsPrefix';\nexport default createWithBsPrefix('card-deck');","// generated by genversion\nexport const version = '1.0.2';\n","export default __webpack_public_path__ + \"static/media/puzztool_banner_dark.09d02cea.svg\";","import Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport CardDeck from 'react-bootstrap/CardDeck';\nimport PuzzToolPage from '../../Common/PuzzToolPage';\nimport { clearLocalStorage } from '../../Data/LocalStorage';\nimport PuzztoolBannerDark from '../../Images/puzztool_banner_dark.svg';\nimport { version } from '../../version';\nimport './index.scss';\n\nfunction Settings() {\n  function onClearClick() {\n    clearLocalStorage();\n  }\n\n  return (\n    <PuzzToolPage title=\"Settings\">\n      <div className=\"Settings\">\n        <CardDeck>\n          <Card>\n            <Card.Header>Saved state</Card.Header>\n            <Card.Body>\n              <p>\n                The most recent inputs to each tool are stored in the browser's\n                local storage. In the event that state becomes corrupted it can\n                be cleared using the button below.\n                </p>\n              <Button\n                onClick={onClearClick}\n                variant=\"danger\"\n              >\n                Clear saved state\n            </Button>\n            </Card.Body>\n          </Card>\n          <Card>\n            <Card.Header>About</Card.Header>\n            <Card.Body>\n              <img\n                className=\"AboutLogo\"\n                src={PuzztoolBannerDark}\n                alt=\"PuzzTool logo\"\n              />\n            Version: {version}<br />\n              <a\n                href=\"https://github.com/puzztool/puzztool/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                Project page\n            </a>\n            </Card.Body>\n          </Card>\n        </CardDeck>\n      </div>\n    </PuzzToolPage>\n  );\n}\n\nexport default Settings;\n"],"sourceRoot":""}