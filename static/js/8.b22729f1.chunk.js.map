{"version":3,"sources":["Data/LocalStorageComponent.ts","Data/LocalStorage.ts","version.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","Views/TabViewBase.tsx","../node_modules/react-bootstrap/Container.js","../node_modules/react-bootstrap/Row.js","../node_modules/react-bootstrap/Col.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Semaphore/SemaphoreCheckbox.tsx","Semaphore/SemaphorePicture.tsx","Semaphore/SemaphoreCharacter.tsx","Semaphore/SemaphoreStream.tsx","Semaphore/SemaphoreTable.tsx","Views/Encoding/Semaphore.tsx"],"names":["LocalStorageComponent","props","VERSION_STORAGE_KEY","previousVersion","LocalStorage","getObject","versionIncreased","version","clear","setObject","this","restoreState","updateState","onUpdateState","saveState","prev","current","compareVersions","getLocalStorageKey","onSaveState","onRestoreState","Component","undefined","_isSupported","storage","window","localStorage","x","setItem","removeItem","e","DOMException","code","name","length","key","isSupported","getItem","getKey","objString","JSON","parse","value","object","stringify","_prefix","target","property","receiver","Reflect","get","base","Object","prototype","hasOwnProperty","call","getPrototypeOf","desc","getOwnPropertyDescriptor","TabViewBase","_activeKey","state","activeKey","savedState","setState","_interopRequireDefault","exports","__esModule","default","_extends2","_objectWithoutPropertiesLoose2","_classnames","_react","_ThemeProvider","Container","forwardRef","_ref","ref","bsPrefix","fluid","_ref$as","as","className","prefix","useBootstrapPrefix","createElement","displayName","defaultProps","_default","module","Row","noGutters","_props$as","otherProps","decoratedBsPrefix","DEVICE_SIZES","Col","spans","classes","forEach","brkPoint","span","offset","order","propValue","_propValue$span","infix","push","apply","concat","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","toString","_arr","_n","_d","_e","_s","_i","next","done","err","TypeError","SemaphoreCheckbox","type","checked","character","hasDirection","direction","onChange","event","handler","match","getPotentialMatch","SemaphorePicture","angles","left","right","getDegrees","first","second","getFlagAngles","width","viewBox","id","fill","r","cx","cy","y","height","rx","ry","strokeWidth","stroke","points","strokeLinecap","xlinkHref","transform","SemaphoreCharacter","Direction","North","NorthEast","East","SouthEast","South","SouthWest","West","NorthWest","SemaphoreStream","_character","Character","_stream","onKeyDown","bind","onKeyPress","stream","document","addEventListener","removeEventListener","Header","Body","xs","sm","md","onCharacterChange","onClick","onBackspaceClick","onNextClick","onClearClick","variant","directions","ev","defaultPrevented","handled","keyCode","preventDefault","charCode","Degrees","FromDegrees","addDirection","removeDirection","Error","matches","getExactMatches","substring","SemaphoreTable","characters","getPotentialMatches","striped","responsive","map","entry","display","encoding","category","Semaphore","onSelect","onTabSelect","eventKey","title"],"mappings":"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","file":"static/js/8.b22729f1.chunk.js","sourcesContent":["import compareVersions from 'compare-versions';\nimport { Component } from 'react';\nimport LocalStorage from './LocalStorage';\nimport { version } from '../version';\n\nabstract class LocalStorageComponent<P = {}, S = {}, SavedState = {}> extends Component<P, S> {\n  private readonly VERSION_STORAGE_KEY: string = 'puzztoolVersion';\n\n  public constructor(props: P) {\n    super(props);\n\n    // If the current localstorage was created with a prior version of puzztool, clear\n    // the local storage to get rid of any obsolete or incompatible artifacts\n    const previousVersion = LocalStorage.getObject<string>(this.VERSION_STORAGE_KEY);\n    if (this.versionIncreased(previousVersion, version)) {\n      LocalStorage.clear();\n      // Store the current version\n      LocalStorage.setObject<string>(this.VERSION_STORAGE_KEY, version);\n    }\n  }\n\n  public componentDidMount() {\n    this.restoreState();\n    this.updateState();\n  }\n\n  protected updateState() {\n    this.onUpdateState();\n    this.saveState();\n  }\n\n  protected abstract getLocalStorageKey(): string;\n  protected abstract onSaveState(): SavedState;\n  protected abstract onRestoreState(savedState: SavedState | null): void;\n  protected abstract onUpdateState(): void;\n\n  private versionIncreased(prev: string | null, current: string): boolean {\n    if (prev == null) {\n      // If there's no recorded version number, this is the user's first visit\n      // to the page since 0.7.0 released.  To clean up any potential legacy\n      // incompatabilities, clear storage and write the version.\n      return true;\n    }\n\n    return compareVersions(current, prev) === 1;\n  }\n\n  private saveState() {\n    LocalStorage.setObject<SavedState>(this.getLocalStorageKey(), this.onSaveState());\n  }\n\n  private restoreState() {\n    this.onRestoreState(LocalStorage.getObject<SavedState>(this.getLocalStorageKey()));\n  }\n}\n\nexport default LocalStorageComponent;\n","class LocalStorage {\n  private static _isSupported?: boolean;\n  private static _prefix: string = 'puzztool';\n\n  public static isSupported() {\n    if (this._isSupported === undefined) {\n      const storage = window.localStorage;\n      const x = '__storage_test__';\n\n      try {\n        storage.setItem(x, x);\n        storage.removeItem(x);\n        this._isSupported = true;\n      } catch (e) {\n          this._isSupported = e instanceof DOMException && (\n            // everything except Firefox\n            e.code === 22 ||\n            // Firefox\n            e.code === 1014 ||\n            // test name field too, because code might not be present\n            // everything except Firefox\n            e.name === 'QuotaExceededError' ||\n            // Firefox\n            e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n            // acknowledge QuotaExceededError only if there's something already stored\n            storage.length !== 0;\n      }\n    }\n\n    return this._isSupported;\n  }\n\n  public static getItem(key: string) {\n    if (this.isSupported()) {\n      return window.localStorage.getItem(this.getKey(key));\n    }\n\n    return null;\n  }\n\n  public static getObject<T>(key: string) {\n    if (this.isSupported()) {\n      const objString = window.localStorage.getItem(this.getKey(key));\n\n      if (objString !== null) {\n        return JSON.parse(objString) as T;\n      }\n    }\n\n    return null;\n  }\n\n  public static setItem(key: string, value: string) {\n    if (this.isSupported()) {\n      window.localStorage.setItem(this.getKey(key), value);\n    }\n  }\n\n  public static setObject<T>(key: string, object: T) {\n    if (this.isSupported()) {\n      window.localStorage.setItem(this.getKey(key), JSON.stringify(object));\n    }\n  }\n\n  public static clear() {\n    if (this.isSupported()) {\n      window.localStorage.clear();\n    }\n  }\n\n  private static getKey(key: string) {\n    return `${this._prefix}_${key}`;\n  }\n}\n\nexport default LocalStorage;\n","// generated by genversion\nexport const version = '0.7.0';\n","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import LocalStorageComponent from '../Data/LocalStorageComponent';\n\n// To inherit from this class:\n// 1. import Tab from 'react-bootstrap/Tab';\n// 2. import Tabs from 'react-bootstrap/Tabs';\n// 3. override render() and getLocalStorageKey()\n// 4. Ensure your constructor calls super()\n\ninterface Props {}\n\ninterface State {\n  activeKey: number;\n}\n\ninterface SavedState {\n  activeKey: number;\n}\n\nabstract class TabViewBase extends LocalStorageComponent<Props, State, SavedState> {\n  private _activeKey: number = 1;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      activeKey: this._activeKey,\n    };\n  }\n\n  /* Classes derived from TabViewBase should implement the following functions:\n\n  public render() {}\n\n  protected getLocalStorageKey() {\n    return 'YourClassNameHere';\n  }\n  */\n\n  protected onSaveState() {\n    return {\n      activeKey: this._activeKey,\n    };\n  }\n\n  protected onRestoreState(savedState: SavedState | null) {\n    if (savedState !== null) {\n      this._activeKey = savedState.activeKey;\n    }\n  }\n\n  protected onUpdateState() {\n    this.setState({\n      activeKey: this._activeKey,\n    });\n  }\n\n  protected onTabSelect(activeKey: number) {\n    this._activeKey = activeKey;\n    this.updateState();\n  }\n}\n\nexport default TabViewBase;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar defaultProps = {\n  fluid: false\n};\n\nvar Container = _react.default.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      fluid = _ref.fluid,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, [\"bsPrefix\", \"fluid\", \"as\", \"className\"]);\n  var prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'container');\n  return _react.default.createElement(Component, (0, _extends2.default)({\n    ref: ref\n  }, props, {\n    className: (0, _classnames.default)(className, fluid ? prefix + \"-fluid\" : prefix)\n  }));\n});\n\nContainer.displayName = 'Container';\nContainer.defaultProps = defaultProps;\nvar _default = Container;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar defaultProps = {\n  noGutters: false\n};\n\nvar Row = _react.default.forwardRef(function (props, ref) {\n  var bsPrefix = props.bsPrefix,\n      noGutters = props.noGutters,\n      _props$as = props.as,\n      Component = _props$as === void 0 ? 'div' : _props$as,\n      className = props.className,\n      otherProps = (0, _objectWithoutPropertiesLoose2.default)(props, [\"bsPrefix\", \"noGutters\", \"as\", \"className\"]);\n  var decoratedBsPrefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'row');\n  return _react.default.createElement(Component, (0, _extends2.default)({\n    ref: ref\n  }, otherProps, {\n    className: (0, _classnames.default)(className, decoratedBsPrefix, noGutters && 'no-gutters')\n  }));\n});\n\nRow.defaultProps = defaultProps;\nvar _default = Row;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\n\nvar Col = _react.default.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n  var prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span, offset, order;\n\n    if (propValue != null && typeof propValue === 'object') {\n      var _propValue$span = propValue.span;\n      span = _propValue$span === void 0 ? true : _propValue$span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (span != null) spans.push(span === true ? \"\" + prefix + infix : \"\" + prefix + infix + \"-\" + span);\n    if (order != null) classes.push(\"order\" + infix + \"-\" + order);\n    if (offset != null) classes.push(\"offset\" + infix + \"-\" + offset);\n  });\n\n  if (!spans.length) {\n    spans.push(prefix); // plain 'col'\n  }\n\n  return _react.default.createElement(Component, (0, _extends2.default)({}, props, {\n    ref: ref,\n    className: _classnames.default.apply(void 0, [className].concat(spans, classes))\n  }));\n});\n\nCol.displayName = 'Col';\nvar _default = Col;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { FormEvent } from 'react';\nimport { SemaphoreCharacter as Character, SemaphoreDirection as Direction } from 'puzzle-lib';\nimport './SemaphoreCheckbox.scss';\n\ninterface Props {\n  character: Character;\n  className?: string;\n  direction: Direction;\n  onChange?: (type: string, direction: Direction) => void;\n}\n\nfunction SemaphoreCheckbox(props: Props) {\n  function getPotentialMatch() {\n    const match = props.character.getPotentialMatch(props.direction);\n    if (match) {\n      return match.toString();\n    }\n\n    return '';\n  }\n\n  function onChange(event: FormEvent<HTMLInputElement>) {\n    const handler = props.onChange;\n    if (handler) {\n      const element = event.target as HTMLInputElement;\n      handler(element.checked ? 'add' : 'remove', props.direction);\n    }\n  }\n\n  return (\n    <div className={`SemaphoreCheckbox ${props.className}`}>\n      <input\n        type=\"checkbox\"\n        checked={props.character.hasDirection(props.direction)}\n        onChange={onChange}\n      />\n      <label>{getPotentialMatch()}</label>\n    </div>\n  );\n}\n\nexport default SemaphoreCheckbox;\n","import React from 'react';\nimport { SemaphoreCharacter as Character } from 'puzzle-lib';\n\ninterface Props {\n  width: number;\n  character: Character;\n}\n\nfunction getFlagAngles(character: Character) {\n  const angles = {\n    left: -1,\n    right: -1,\n  };\n\n  const [first, second] = character.getDegrees();\n\n  if (first !== undefined) {\n    if (second === undefined) {\n      if (first <= 180) {\n        angles.right = first;\n      } else {\n        angles.left = first;\n      }\n    } else {\n      if ((first === 0 && second <= 180) || (first <= 45 && second < 180) || (second <= 90 || first >= 270)) {\n        angles.left = first;\n        angles.right = second;\n      } else {\n        angles.right = first;\n        angles.left = second;\n      }\n    }\n  }\n\n  return angles;\n}\n\nfunction SemaphorePicture(props: Props) {\n  const { left, right } = getFlagAngles(props.character);\n\n  function getLeftFlag() {\n    if (left >= 0) {\n      // The flag needs to be moved into position based upon the upper-left corner and then rotated around the lower-\n      // left corner. There didn't appear to be a better way to handle this, so I ended up hard-coding the position\n      // value and then adding the height to find the lower-left corner for the rotation origin.\n      //\n      // In this case the flag is currently 28 units high (in the SVG viewbox), so position it at (33, 4) and then\n      // rotate around (33, 4 + 28).\n      return (\n        <use\n          transform={`rotate(${left}, 33, 32)`}\n          x=\"33\"\n          xlinkHref={left === 0 || left >= 180 ? '#LeftFlag' : '#Flag'}\n          y=\"4\"\n        />\n      );\n    }\n\n    return null;\n  }\n\n  function getRightFlag() {\n    if (right >= 0) {\n      // The flag needs to be moved into position based upon the upper-left corner and then rotated around the lower-\n      // left corner. There didn't appear to be a better way to handle this, so I ended up hard-coding the position\n      // value and then adding the height to find the lower-left corner for the rotation origin.\n      //\n      // In this case the flag is currently 28 units high (in the SVG viewbox), so position it at (43, 4) and then\n      // rotate around (43, 4 + 28).\n      return (\n        <use\n          transform={`rotate(${right}, 43, 32)`}\n          x=\"43\"\n          xlinkHref={right <= 180 ? '#Flag' : '#LeftFlag'}\n          y=\"4\"\n        />\n      );\n    }\n\n    return null;\n  }\n\n  return (\n    <svg width={props.width} viewBox=\"0 0 76 64\">\n      <defs>\n        <g id=\"Person\" fill=\"black\">\n          <circle r=\"3.5\" cx=\"4\" cy=\"4\" />\n          <rect y=\"8\" width=\"8\" height=\"16\" rx=\"2\" ry=\"2\" />\n        </g>\n        <g id=\"Flag\">\n          <polyline strokeWidth=\"1\" stroke=\"black\" points=\"0 0, 0 20\" />\n          <polyline strokeWidth=\"2\" strokeLinecap=\"round\" stroke=\"black\" points=\"0 20, 0 28\" />\n          <rect stroke=\"black\" height=\"10\" width=\"10\" />\n          <polygon fill=\"red\" points=\"0 0, 10 0, 0 10\" />\n          <polygon fill=\"yellow\" points=\"10 0, 10 10, 0 10\" />\n        </g>\n        <g id=\"LeftFlag\">\n          <use xlinkHref=\"#Flag\" transform=\"scale(-1, 1)\" />\n        </g>\n      </defs>\n      <use xlinkHref=\"#Person\" x=\"34\" y=\"23\" />\n      {getLeftFlag()}\n      {getRightFlag()}\n      Sorry, your browser does not support inline SVG.\n    </svg>\n  );\n}\n\nexport default SemaphorePicture;\n","import React from 'react';\nimport SemaphoreCheckbox from './SemaphoreCheckbox';\nimport SemaphorePicture from './SemaphorePicture';\nimport {\n  SemaphoreCharacter as Character,\n  SemaphoreDirection as Direction\n} from 'puzzle-lib';\nimport './SemaphoreCharacter.scss';\n\ninterface Props {\n  character: Character;\n  onChange?: (type: string, direction: Direction) => void;\n}\n\nfunction SemaphoreCharacter(props: Props) {\n  function onChange(type: string, direction: Direction) {\n    const handler = props.onChange;\n    if (handler) {\n      handler(type, direction);\n    }\n  }\n\n  return (\n    <div className=\"SemaphoreCharacter\">\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-north\"\n        direction={Direction.North}\n        onChange={onChange}\n      />\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-northEast\"\n        direction={Direction.NorthEast}\n        onChange={onChange}\n      />\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-east\"\n        direction={Direction.East}\n        onChange={onChange}\n      />\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-southEast\"\n        direction={Direction.SouthEast}\n        onChange={onChange}\n      />\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-south\"\n        direction={Direction.South}\n        onChange={onChange}\n      />\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-southWest\"\n        direction={Direction.SouthWest}\n        onChange={onChange}\n      />\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-west\"\n        direction={Direction.West}\n        onChange={onChange}\n      />\n      <SemaphoreCheckbox\n        character={props.character}\n        className=\"SemaphoreCheckbox-northWest\"\n        direction={Direction.NorthWest}\n        onChange={onChange}\n      />\n      <SemaphorePicture\n        width={240}\n        character={props.character}\n      />\n    </div>\n  );\n}\n\nexport default SemaphoreCharacter;\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport LocalStorageComponent from '../Data/LocalStorageComponent';\nimport SemaphoreCharacter from './SemaphoreCharacter';\nimport {\n  SemaphoreCharacter as Character,\n  SemaphoreDirection as Direction,\n  SemaphoreDegrees as Degrees,\n} from 'puzzle-lib';\nimport './SemaphoreStream.scss';\n\ninterface Props {}\n\ninterface State {\n  character: Character;\n  stream: string;\n}\n\ninterface SavedState {\n  directions: Direction[];\n  stream: string;\n}\n\nclass SemaphoreStream extends LocalStorageComponent<Props, State, SavedState> {\n  private readonly _character: Character = new Character();\n  private _stream: string = '';\n\n  constructor(props: Props) {\n    super(props);\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyPress = this.onKeyPress.bind(this);\n\n    this.state = {\n      character: this._character,\n      stream: '',\n    };\n  }\n\n  public componentDidMount() {\n    super.componentDidMount();\n    document.addEventListener('keypress', this.onKeyPress);\n  }\n\n  public componentWillUnmount() {\n    document.removeEventListener('keypress', this.onKeyPress);\n  }\n\n  public render() {\n    return (\n      <div className=\"SemaphoreStream\">\n        <Card className=\"SemaphoreStream-input\">\n          <Card.Header>Input</Card.Header>\n          <Card.Body>\n            <Container fluid={true}>\n              <Row>\n                <Col\n                  xs=\"auto\"\n                  sm=\"auto\"\n                  md=\"auto\"\n                >\n                  <SemaphoreCharacter\n                    character={this.state.character}\n                    onChange={(type, direction) => this.onCharacterChange(type, direction)}\n                  />\n                </Col>\n                <Col>\n                  <div className=\"SemaphoreStream-view\">{this.state.character.toString() || '?'}</div>\n                </Col>\n              </Row>\n              <Row>\n                <Col>\n                  <ButtonToolbar>\n                    <ButtonGroup>\n                      <Button onClick={() => this.onBackspaceClick()}>&#x232b;</Button>\n                    </ButtonGroup>\n                    <ButtonGroup>\n                      <Button onClick={() => this.onNextClick()}>Next</Button>\n                    </ButtonGroup>\n                    <ButtonGroup>\n                      <Button\n                        onClick={() => this.onClearClick()}\n                        variant=\"danger\"\n                      >\n                        Clear\n                      </Button>\n                    </ButtonGroup>\n                  </ButtonToolbar>\n                </Col>\n              </Row>\n            </Container>\n          </Card.Body>\n        </Card>\n        <Card>\n          <Card.Header>Output</Card.Header>\n          <Card.Body>\n            <pre className=\"SemaphoreStream-output\">\n              {this.state.stream}<span className=\"blinking-cursor\">|</span>\n            </pre>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n\n  protected getLocalStorageKey() {\n    return 'SemaphoreStream';\n  }\n\n  protected onSaveState() {\n    return {\n      directions: this._character.directions,\n      stream: this._stream,\n    };\n  }\n\n  protected onRestoreState(savedState: SavedState | null) {\n    if (savedState !== null) {\n      this._character.directions = savedState.directions;\n      this._stream = savedState.stream;\n    }\n  }\n\n  protected onUpdateState() {\n    this.setState({\n      character: this._character,\n      stream: this._stream,\n    });\n  }\n\n  private onKeyDown(ev: KeyboardEvent) {\n    if (ev.defaultPrevented) {\n      return;\n    }\n\n    let handled = false;\n\n    // Chrome won't trigger keypress for any keys that can invoke browser\n    // actions.\n    if (ev.keyCode === 8) { // Backspace\n      this.onBackspaceClick();\n      handled = true;\n    }\n\n    if (handled) {\n      ev.preventDefault();\n    }\n  }\n\n  private onKeyPress(ev: KeyboardEvent) {\n    if (ev.defaultPrevented) {\n      return;\n    }\n\n    let handled = false;\n\n    if (ev.keyCode === 13) { // Enter\n      this.onNextClick();\n      handled = true;\n    } else if (ev.charCode >= 49 && ev.charCode <= 56) { // '1' through '8'\n      const direction = Degrees.FromDegrees((ev.charCode - 49) * 45);\n      this.onCharacterChange(\n        !this._character.hasDirection(direction) ? 'add' : 'remove',\n        direction);\n    }\n\n    if (handled) {\n      ev.preventDefault();\n    }\n  }\n\n  private onCharacterChange(type: string, direction: Direction) {\n    switch (type) {\n      case 'add':\n        this._character.addDirection(direction);\n        break;\n\n      case 'remove':\n        this._character.removeDirection(direction);\n        break;\n\n      default:\n        throw new Error('Invalid change type');\n    }\n\n    this.updateState();\n  }\n\n  private onNextClick() {\n    const matches = this._character.getExactMatches();\n    if (matches.length > 0) {\n      this._stream += matches[0].toString();\n      this._character.clear();\n    } else {\n      this._stream += ' ';\n    }\n\n    this.updateState();\n  }\n\n  private onClearClick() {\n    this._character.clear();\n    this._stream = '';\n\n    this.updateState();\n  }\n\n  private onBackspaceClick() {\n    this._stream = this._stream.substring(0, this._stream.length - 1);\n\n    this.updateState();\n  }\n}\n\nexport default SemaphoreStream;\n","import React from 'react';\nimport { SemaphoreCharacter as Character } from 'puzzle-lib';\nimport Table from 'react-bootstrap/Table';\nimport SemaphorePicture from './SemaphorePicture';\nimport './SemaphoreTable.scss';\n\nfunction SemaphoreTable() {\n  const characters = new Character().getPotentialMatches();\n  return (\n    <div className=\"SemaphoreTable\">\n      <Table striped={true} responsive={true}>\n        <thead>\n          <tr>\n            <th>Character</th>\n            <th>Semaphore</th>\n          </tr>\n        </thead>\n        <tbody>\n          {characters.map((entry) => (\n            <tr key={entry.display}>\n              <td>{entry.display}</td>\n              <td>\n                <SemaphorePicture\n                  width={100}\n                  character={new Character(entry.encoding, entry.category)}\n                />\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n\nexport default SemaphoreTable;\n","import React from 'react';\nimport Tab from 'react-bootstrap/Tab';\nimport Tabs from 'react-bootstrap/Tabs';\nimport TabViewBase from '../TabViewBase';\nimport SemaphoreStream from '../../Semaphore/SemaphoreStream';\nimport SemaphoreTable from '../../Semaphore/SemaphoreTable';\n\nclass Semaphore extends TabViewBase {\n  public render() {\n    return (\n      <div className=\"Semaphore\">\n        <div className=\"Semaphore-content\">\n          <Tabs\n            activeKey={this.state.activeKey}\n            id=\"Semaphore-tabs\"\n            // tslint:disable-next-line: no-any\n            onSelect={(activeKey: any) => this.onTabSelect(activeKey as number)}\n          >\n            <Tab eventKey={1} title=\"Value\">\n              <SemaphoreStream />\n            </Tab>\n            <Tab eventKey={2} title=\"Reference\">\n              <SemaphoreTable />\n            </Tab>\n          </Tabs>\n        </div>\n      </div>\n    );\n  }\n\n  protected getLocalStorageKey() {\n    return 'Semaphore';\n  }\n}\n\nexport default Semaphore;\n"],"sourceRoot":""}